<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday, Ratu! âœ¨</title>
    
    <script>
        // Jika belum login, tendang ke login.html
        if (localStorage.getItem("isLoggedIn") !== "true") {
            window.location.href = "login.html";
        }
    </script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">

    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vanilla-tilt/1.7.0/vanilla-tilt.min.js"></script>

    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="progress-container">
        <div class="progress-bar" id="myBar"></div>
    </div>

    <audio id="bg-music" loop>
        <source src="backsound.mp3" type="audio/mpeg">
    </audio>
    <button id="music-control" class="hidden" onclick="toggleMusic()">ğŸ”Š Play Music</button>

    <section id="hero" class="parallax">
        <div class="hero-content fade-in">
            <h1 class="italic">Happy<br>Birthday</h1>
            <div class="sub-title">20th Birthday</div> 
            <div class="date">13 Februari 2026</div> 
        </div>
    </section>

    <section id="the-list">
        <div class="overlay-container fade-in">
            <span class="huge-number">3</span>
            <div class="middle-text">
                <span>things you get</span>
                <span>when you turn</span>
            </div>
            <span class="huge-cursive">20</span>
        </div>

        <div class="collage-background fade-in">
            <div class="collage-item"><img src="https://picsum.photos/id/1011/400/400" alt="Foto"></div>
            <div class="collage-item"><img src="https://picsum.photos/id/1025/400/400" alt="Foto"></div>
            <div class="collage-item"><img src="https://picsum.photos/id/1003/400/400" alt="Foto"></div>
            <div class="collage-item"><img src="https://picsum.photos/id/1012/400/400" alt="Foto"></div>
            <div class="collage-item"><img src="https://picsum.photos/id/1027/400/400" alt="Foto"></div>
            <div class="collage-item"><img src="https://picsum.photos/id/1015/400/400" alt="Foto"></div>
            <div class="collage-item"><img src="https://picsum.photos/id/106/400/400" alt="Foto"></div>
            <div class="collage-item"><img src="https://picsum.photos/id/109/400/400" alt="Foto"></div>
        </div>
    </section>

    <section id="umrah">
        <img src="https://upload.wikimedia.org/wikipedia/commons/e/ec/Logo_Universitas_Maritim_Raja_Ali_Haji.png" alt="Logo UMRAH" class="campus-logo fade-in">
        
        <div class="container trisakti-layout">
            <div class="trisakti-text fade-in">
                <h2 class="trisakti-title">
                    <span class="big-number">P</span>endidikan <br>
                    <span class="highlight">Matematika</span>
                </h2>
                
                <div class="trisakti-message">
                    <h3>CALON IBU GURU MATEMATIKA YANG PALING CANTIK ğŸ“</h3>
                    <p>
                        Selamat ulang tahun Bu Guru Masa Depan! ğŸ“âœï¸ <br>
                        Semoga ilmunya berkah di <strong>UMRAH</strong>. Aku tau Pendidikan Matematika itu pusing, 
                        tapi aku yakin Ratu bisa lewatin semuanya.
                        <br><br>
                        Semangat terus kuliahnya, jangan lupa istirahat kalau capek ngitung rumus! âœ¨
                    </p>
                </div>
            </div>

            <div class="trisakti-image fade-in">
                <img src="https://picsum.photos/id/1/600/800" alt="Ratu Kuliah">
            </div>
        </div>
    </section>

    <section id="achievement">
        <div class="container locker-layout">
            <div class="locker-note fade-in">
                <div class="tape"></div>
                
                <h2>The <span class="rank-number">Star</span> <br> of UMRAH!!</h2>
                <div class="note-content">
                    <p>
                        <strong>DUTA KAMPUS & DUTA FAVORITE?!</strong> ğŸ˜­ğŸ‘‘ <br><br>
                        Jujur aku bangga banget liat pencapaian kamu. Gak cuma cantik, tapi kamu juga berprestasi dan menginspirasi banyak orang.
                        <br><br>
                        Kamu pantes dapetin gelar <strong>Favorite</strong> itu karena emang se-lovable itu orangnya!
                        <span class="highlight-red">PROUD OF U!!</span> ğŸŒŸ
                    </p>
                </div>
            </div>

            <div class="locker-photo fade-in">
                <div class="tape-corner"></div>
                <img src="https://picsum.photos/id/64/400/400" alt="Foto Duta Kampus">
            </div>
        </div>
    </section>

    <section id="message">
        <div class="container message-layout">
            <div class="message-text fade-in">
                <h2>The First<br>On My Mind</h2>
                
                <div id="envelope-letter" onclick="openLetter()">
                    <div class="flap"></div>
                    <div class="pocket"></div>
                    <div class="letter">
                        <p id="typing-text"></p>
                    </div>
                    <div class="seal">â¤ï¸</div>
                </div>
                
                <p class="instruction-click">Klik amplop untuk baca suratnya...</p>

                <p class="italic hidden" id="closing-quote" style="margin-top: 20px; font-weight: bold; color: #555;">
                    "Tetap jadi Ratu yang ku kenal yaps. Semangat terus langkahnya!" âœ¨
                </p>
            </div>

            <div class="polaroid-stack fade-in">
                <div class="polaroid"><img src="https://picsum.photos/id/1011/300/350" alt="Foto"></div>
                <div class="polaroid"><img src="https://picsum.photos/id/1025/300/350" alt="Foto"></div>
                <div class="polaroid"><img src="https://picsum.photos/id/1003/300/350" alt="Foto"></div>
                <div class="polaroid"><img src="https://picsum.photos/id/106/300/350" alt="Foto"></div>
                <div class="polaroid"><img src="https://picsum.photos/id/109/300/350" alt="Foto"></div>
                <div class="polaroid"><img src="https://picsum.photos/id/64/300/350" alt="Foto"></div>
            </div>
        </div>
    </section>

    <section id="wish">
        <div class="wish-content fade-in">
            <h2>20</h2>
            <p>
                Semoga di umur 20 ini, semua doa baik yang kamu kasih ke orang lain,
                berbalik ke kamu berlipat ganda. <br>
                Barakallahu fii umrik, Ratu. âœ¨
            </p>
        </div>
    </section>

    <section id="selfie-section" class="parallax">
        <div class="container fade-in">
            <h2 style="font-size: 3rem; margin-bottom: 20px;">Happy Birthday, Ratu! âœ¨</h2>
            <p>Sebelum pergi, kirim pap reaksi kamu dong!</p>

            <div class="camera-container">
                <div class="camera-frame">
                    <video id="webcam" autoplay playsinline></video>
                    <canvas id="photo-canvas" class="hidden"></canvas>
                </div>
                <div class="controls">
                    <button id="btn-start-cam" class="btn" onclick="startCamera()">Nyalakan Kamera ğŸ“¸</button>
                    <button id="btn-snap" class="btn hidden" onclick="takePicture()">Cekrek!</button>
                    <button id="btn-send" class="btn hidden" onclick="sendToWA()">Kirim ke WA ğŸš€</button>
                    <button id="btn-retake" class="btn secondary hidden" onclick="retake()">Ulang</button>
                </div>
            </div>
        </div>
    </section>

    <script src="script.js"></script>
</body>
</html>